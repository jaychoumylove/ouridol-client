(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recharge/recharge"],{2779:function(t,a,e){"use strict";e.r(a);var n=e("ac43"),r=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);a["default"]=r.a},"66fc":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c},r=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return r})},"74b5":function(t,a,e){},ac43:function(t,a,e){"use strict";(function(t){var n;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=function(){return e.e("components/btnComponent").then(e.bind(null,"cbb7"))},o={components:{btnComponent:r},data:function(){return{requestCount:1,userInfo:{avatarurl:this.$app.getData("userInfo")["avatarurl"]||this.$app.AVATAR,nickname:this.$app.getData("userInfo")["nickname"]||this.$app.NICKNAME,id:this.$app.getData("userInfo")["id"]||null},userCurrency:this.$app.getData("userCurrency")||{coin:0,stone:0,trumpet:0},rechargeList:this.$app.getData("goodsList")||[]}},onLoad:function(){var t=this;this.getGoodsList();setInterval(function(){t.$app.getData("userInfo").nickname&&(t.userInfo=t.$app.getData("userInfo"),t.userCurrency=t.$app.getData("userCurrency"))},300)},onUnload:function(){clearInterval(n)},methods:{payment:function(a){var e=this;this.$app.request(this.$app.API.PAY_ORDER,{goods_id:a},function(a){t.requestPayment({provider:"wxpay",timeStamp:a.data.timeStamp,nonceStr:a.data.nonceStr,package:a.data.package,signType:a.data.signType,paySign:a.data.paySign,success:function(t){e.$app.toast("支付成功","success"),e.$app.request(e.$app.API.USER_CURRENCY,{},function(t){e.$app.setData("userCurrency",t.data),e.userCurrency=e.$app.getData("userCurrency"),e.modal=""})},fail:function(t){e.$app.toast("支付失败")}})})},getGoodsList:function(){var t=this;this.$app.request(this.$app.API.PAY_GOODS,{},function(a){var e=[],n=!0,r=!1,o=void 0;try{for(var u,i=a.data[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var s=u.value;e.push({id:s.id,coin:s.coin,stone:s.stone,fee:s.fee})}}catch(c){r=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}t.rechargeList=e,t.$app.setData("goodsList",t.rechargeList),t.$app.closeLoading(t)})}}};a.default=o}).call(this,e("543d")["default"])},e60b:function(t,a,e){"use strict";var n=e("74b5"),r=e.n(n);r.a},ee2e:function(t,a,e){"use strict";e.r(a);var n=e("66fc"),r=e("2779");for(var o in r)"default"!==o&&function(t){e.d(a,t,function(){return r[t]})}(o);e("e60b");var u=e("2877"),i=Object(u["a"])(r["default"],n["a"],n["b"],!1,null,"78124f2d",null);a["default"]=i.exports}},[["86cb","common/runtime","common/vendor"]]]);