(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0f4a":function(t,n,e){"use strict";var a=e("766e"),o=e.n(a);o.a},"38bd":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){return t.$app.goPage("/pages/star/rank_history/rank_history")},t.e1=function(n){return t.$app.goPage("/pages/notice/notice?id=1")})},o=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return o})},"766e":function(t,n,e){},bf2e:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){return e.e("components/bannerComponent").then(e.bind(null,"6aa2"))},o=function(){return e.e("components/btnComponent").then(e.bind(null,"cbb7"))},i=function(){return e.e("components/listItemComponent").then(e.bind(null,"f564"))},s={components:{bannerComponent:a,btnComponent:o,listItemComponent:i},data:function(){return{showBottomLoading:!0,requestCount:1,cutOffDate:"",searchShow:!1,currentTab:0,scrollTop:0,page:1,keywords:"",rankField:"week_hot",sign:0,rankList:[]}},onLoad:function(t){t.starid&&this.goGroup(t.starid),this.getSunday()},onShow:function(){t.pageScrollTo({scrollTop:0,duration:0}),this.page=1,this.keywords="",this.getRankList()},onShareAppMessage:function(){return this.$app.commonShareAppMessage()},onHide:function(){this.scrollTop=1},onPullDownRefresh:function(){this.page=1,this.keywords="",this.getRankList()},onReachBottom:function(){this.page++,this.getRankList()},methods:{getSunday:function(){var t=new Date,n=t.getDay()||7;t.setDate(t.getDate()-n+7),this.cutOffDate=t.getMonth()+1+"月"+t.getDate()+"日"},goGroup:function(t){this.$app.getData("userStar")["id"]==t?this.$app.goPage("/pages/group/group"):this.$app.goPage("/pages/star/star?starid="+t)},changeSign:function(t){this.page=1,this.sign=t,this.keywords="",this.getRankList()},searchInput:function(t){this.keywords&&t.detail.value||(this.rankList=[]),this.page=1,this.sign=0,this.keywords=t.detail.value,this.getRankList()},searchToggle:function(){this.searchShow=!this.searchShow,this.keywords&&(this.keywords="",this.page=1,this.sign=0,this.getRankList())},getRankList:function(){var t=this;this.showBottomLoading=!0,this.$app.request(this.$app.API.STAR_RANK,{page:this.page,rankField:this.rankField,keywords:this.keywords,sign:this.sign},function(n){n.data.length<10&&(t.showBottomLoading=!1);var e=[];n.data.forEach(function(n){var a={};a.starid=n.star.id,a.name=n.star.name,a.avatar=n.star.head_img_s?n.star.head_img_s:n.star.head_img_l,a.hot=t.$app.formatNumberRgx(n[t.rankField]),e.push(a)}),1==t.page?t.rankList=e:t.rankList=t.rankList.concat(e),t.$app.closeLoading(t)})}}};n.default=s}).call(this,e("543d")["default"])},db12:function(t,n,e){"use strict";e.r(n);var a=e("bf2e"),o=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);n["default"]=o.a},e678:function(t,n,e){"use strict";e.r(n);var a=e("38bd"),o=e("db12");for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);e("0f4a");var s=e("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"0bd8741b",null);n["default"]=r.exports}},[["f34a","common/runtime","common/vendor"]]]);