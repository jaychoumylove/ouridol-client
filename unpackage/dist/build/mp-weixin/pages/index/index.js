(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{4686:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=(t._self._c,t.$app.getData("config")),a=t.$app.getData("config"),i=t.$app.getData("config"),o=t.$app.getData("config"),s=t.$app.getData("config");t._isMounted||(t.e0=function(n){t.changeField("week_hot"),t.getSunday()},t.e1=function(n){t.changeField("month_hot"),t.getLast()},t.e2=function(n){return t.$app.goPage("/pages/star/rank_history/rank_history?rankField="+t.rankField)},t.e3=function(n){return t.$app.goPage("/pages/notice/notice?id=1")},t.e4=function(n){t.modal="",t.$app.goPage(t.$app.getData("config").index_banner.gopage)},t.e5=function(n){t.modal=""},t.e6=function(n){t.preimg(t.$app.getData("config").webmodal)},t.e7=function(n){t.modal=""}),t.$mp.data=Object.assign({},{$root:{g0:e,g1:a,g2:i,g3:o,g4:s}})},i=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i})},"4d1c":function(t,n,e){},6402:function(t,n,e){"use strict";e.r(n);var a=e("e87e"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);n["default"]=i.a},"9bab":function(t,n,e){"use strict";var a=e("4d1c"),i=e.n(a);i.a},"9cda":function(t,n,e){"use strict";e.r(n);var a=e("4686"),i=e("6402");for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);e("9bab");var s=e("2877"),r=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"7bc66906",null);n["default"]=r.exports},e87e:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){return e.e("components/modalComponent").then(e.bind(null,"829d"))},i=function(){return e.e("components/bannerComponent").then(e.bind(null,"644d"))},o=function(){return e.e("components/btnComponent").then(e.bind(null,"57b2"))},s=function(){return e.e("components/listItemComponent").then(e.bind(null,"a2a3"))},r={components:{bannerComponent:i,btnComponent:o,listItemComponent:s,modalComponent:a},data:function(){return{modal:"indexBanner",showBottomLoading:!0,requestCount:1,cutOffDate:"",searchHide:!1,currentTab:0,page:1,keywords:"",rankField:"week_hot",sign:0,rankList:this.$app.getData("index_rankList")||[]}},onLoad:function(n){t.showTabBarRedDot({index:1}),n.starid&&this.goGroup(n.starid),this.getSunday()},onShow:function(){this.page=1,this.keywords="",this.getRankList()},onShareAppMessage:function(){return this.$app.commonShareAppMessage()},onHide:function(){t.pageScrollTo({scrollTop:0,duration:0})},onPullDownRefresh:function(){this.page=1,this.keywords="",this.getRankList()},onReachBottom:function(){this.page++,this.getRankList()},methods:{preimg:function(n){t.previewImage({current:0,urls:[n.trim()],success:function(t){console.log(t)}})},getSunday:function(){var t=new Date,n=t.getDay()||7;t.setDate(t.getDate()-n+7),this.cutOffDate=t.getMonth()+1+"月"+t.getDate()+"日"},getLast:function(){var t=new Date,n=t.getMonth(),e=++n,a=new Date(t.getFullYear(),e,1),i=864e5,o=new Date(a-i);this.cutOffDate=o.getMonth()+1+"月"+o.getDate()+"日"},goGroup:function(t){this.$app.getData("userStar",!0)["id"]==t?this.$app.goPage("/pages/group/group"):this.$app.goPage("/pages/star/star?starid="+t)},changeSign:function(t){this.page=1,this.sign=t,this.keywords="",this.getRankList()},changeField:function(t){this.page=1,this.rankField=t,this.keywords="",this.getRankList()},searchInput:function(t){this.keywords&&t.detail.value||(this.rankList=[]),this.page=1,this.sign=0,this.keywords=t.detail.value,this.getRankList()},searchToggle:function(){this.searchHide=!this.searchHide,this.keywords&&(this.keywords="",this.page=1,this.sign=0,this.getRankList())},getRankList:function(){var t=this;this.showBottomLoading=!0,this.$app.request(this.$app.API.STAR_RANK,{page:this.page,rankField:this.rankField,keywords:this.keywords,sign:this.sign},function(n){n.data.length<10&&(t.showBottomLoading=!1);var e=[];n.data.forEach(function(n){var a={};a.starid=n.star.id,a.name=n.star.name,a.avatar=n.star.head_img_s?n.star.head_img_s:n.star.head_img_l,a.hot=t.$app.formatNumberRgx(n[t.rankField]),e.push(a)}),1==t.page?(t.rankList=e,t.$app.setData("index_rankList",t.rankList)):t.rankList=t.rankList.concat(e),t.$app.closeLoading(t)})}}};n.default=r}).call(this,e("543d")["default"])}},[["9943","common/runtime","common/vendor"]]]);